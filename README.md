# üè¶ API –ë–∞–Ω–∫–æ–º–∞—Ç–∞

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø–æ –Ω–æ–º–µ—Ä—É –∫–∞—Ä—Ç—ã –∏ PIN-–∫–æ–¥—É
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞** –≤ —Ç—Ä–µ—Ö –≤–∞–ª—é—Ç–∞—Ö (BYN, USD, EUR) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
- **–°–Ω—è—Ç–∏–µ –¥–µ–Ω–µ–≥** –≤ –ª—é–±–æ–π –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç
- **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞** –≤ –ª—é–±–æ–π –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç
- **–ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥** –Ω–∞ –∫–∞—Ä—Ç—É –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥** –ø–æ –∫–æ–¥—É —É—Å–ª—É–≥–∏ (—ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è, –≤–æ–¥–∞, –≥–∞–∑, –º–æ–±–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- **Swagger UI** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- **–ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
mvn spring-boot:run
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Swagger UI**: http://localhost:8080/swagger-ui.html
- **OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: http://localhost:8080/v3/api-docs

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Spring Boot 3.4.2**
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JPA/Hibernate** - ORM
- **Lombok** - —É–º–µ–Ω—å—à–µ–Ω–∏–µ boilerplate –∫–æ–¥–∞
- **Swagger/OpenAPI** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Jakarta Validation** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **BigDecimal** - —Ç–æ—á–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è




## üí∞ –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç
- **1 USD = 3.0 BYN**
- **1 EUR = 3.5 BYN**
- **BYN** - –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### 1. üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
POST http://localhost:8080/api/v1/auth
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "password": "1234"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "userName": "Vassily Petrov",
    "balanceByn": 57174.00,
    "balanceUsd": 19058.00,
    "balanceEur": 16335.43
}
```

### 2. üí≥ –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
```http
GET http://localhost:8080/api/v1/balance/1111111111111111
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "message": "Balance user Vassily Petrov",
    "balanceByn": 57174.00,
    "balanceUsd": 19058.00,
    "balanceEur": 16335.43
}
```

### 3. üí∏ –°–Ω—è—Ç–∏–µ –¥–µ–Ω–µ–≥ –≤ BYN
```http
POST http://localhost:8080/api/v1/withdraw
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "amount": 1000.00,
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–°–Ω—è—Ç–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ",
    "balanceByn": 56174.00,
    "balanceUsd": 18724.67,
    "balanceEur": 16049.71
}
```

### 4. üí∏ –°–Ω—è—Ç–∏–µ –¥–µ–Ω–µ–≥ –≤ USD (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ BYN)
```http
POST http://localhost:8080/api/v1/withdraw
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "amount": 100.00,
    "currency": "usd"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–°–Ω—è—Ç–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ",
    "balanceByn": 55874.00,
    "balanceUsd": 18624.67,
    "balanceEur": 15964.00
}
```

### 5. üí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –≤ BYN
```http
POST http://localhost:8080/api/v1/deposit
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "amount": 5000.00,
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ",
    "remainingBalanceByn": 60874.00,
    "remainingBalanceUsd": 20291.33,
    "remainingBalanceEur": 17392.57
}
```

### 6. üí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –≤ USD
```http
POST http://localhost:8080/api/v1/deposit
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "amount": 1000.00,
    "currency": "usd"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ",
    "remainingBalanceByn": 63874.00,
    "remainingBalanceUsd": 21291.33,
    "remainingBalanceEur": 18249.71
}
```

### 7. üîÑ –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥ –≤ BYN
```http
POST http://localhost:8080/api/v1/transfer
Content-Type: application/json

{
    "fromCardNumber": "1111111111111111",
    "toCardNumber": "2222222222222222",
    "amount": 5000.00,
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"
}
```

### 8. üîÑ –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥ –≤ USD (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ BYN)
```http
POST http://localhost:8080/api/v1/transfer
Content-Type: application/json

{
    "fromCardNumber": "1111111111111111",
    "toCardNumber": "2222222222222222",
    "amount": 100.00,
    "currency": "usd"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"
}
```

### 9. üí° –û–ø–ª–∞—Ç–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "ELEC001",
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–û–ø–ª–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞",
    "serviceName": "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è",
    "amountPaid": 100.00,
    "remainingBalanceByn": 63774.00,
    "remainingBalanceUsd": 21258.00,
    "remainingBalanceEur": 18221.14
}
```

### 10. üíß –û–ø–ª–∞—Ç–∞ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "WATER002",
    "currency": "byn"
}
```

### 11. üî• –û–ø–ª–∞—Ç–∞ –≥–∞–∑–∞
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "GAS003",
    "currency": "byn"
}
```

### 12. üì± –û–ø–ª–∞—Ç–∞ –º–æ–±–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∏
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "PHONE004",
    "currency": "byn"
}
```

### 13. üåê –û–ø–ª–∞—Ç–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "INTERNET005",
    "currency": "byn"
}
```

## ‚ùå –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —É—Å–ª—É–≥–∞
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "1111111111111111",
    "serviceCode": "INVALID001",
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "message": "–£—Å–ª—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞",
    "errorCode": "INTERNAL_ERROR",
    "timestamp": "2025-09-23T15:45:00.000"
}
```

### –û—à–∏–±–∫–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
```http
POST http://localhost:8080/api/v1/payment
Content-Type: application/json

{
    "cardNumber": "2222222222222222",
    "serviceCode": "ELEC001",
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "message": "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤",
    "errorCode": "INSUFFICIENT_FUNDS",
    "timestamp": "2025-09-23T15:45:00.000"
}
```

### –û—à–∏–±–∫–∞: –ü–µ—Ä–µ–≤–æ–¥ —Å–∞–º–æ–º—É —Å–µ–±–µ
```http
POST http://localhost:8080/api/v1/transfer
Content-Type: application/json

{
    "fromCardNumber": "1111111111111111",
    "toCardNumber": "1111111111111111",
    "amount": 100.00,
    "currency": "byn"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "message": "–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–µ–Ω—å–≥–∏ —Å–∞–º–æ–º—É —Å–µ–±–µ",
    "errorCode": "INTERNAL_ERROR",
    "timestamp": "2025-09-23T15:45:00.000"
}
```

## üìä –ö–æ–¥—ã —É—Å–ª—É–≥
- **ELEC001** - –≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è (100 BYN)
- **WATER002** - –í–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ (50 BYN)
- **GAS003** - –ì–∞–∑ (75 BYN)
- **PHONE004** - –ú–æ–±–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å (25 BYN)
- **INTERNET005** - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (60 BYN)

## üîç –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ö–∞—Ä—Ç–∞ 1**: `1111111111111111` / PIN: `1234` (Vassily Petrov)
- **–ö–∞—Ä—Ç–∞ 2**: `2222222222222222` / PIN: `4321` (Pjotr Vasechkin)
